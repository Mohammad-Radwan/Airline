@page
@{Layout = "~/Views/Shared/_Layout.cshtml";}
@model Airline.Views.ScheduleFlightsModel
@* @{ViewBag.Title = "Schedule Flights";} *@

<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true"/>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" asp-controller="Admin" asp-action="ScheduleFlights">
                    <i class="fas fa-plane-departure"></i> Admin Portal
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class= "nav-item">
                            <a asp-controller="Admin" asp-action="ScheduleFlights" class="nav-link">Schedule Flights</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" asp-controller="Admin" asp-action="SeeAmenities">Oversee Amenities</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" asp-controller="Admin" asp-action="TrackCargo">Track Cargo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" asp-controller="Admin" asp-action="MonitorIncd">Monitor Incidents</a>
                        </li>
                    </ul>
                    <div class="navbar-nav">
                        <a asp-controller="Home" asp-action="Login" class="nav-link">Login</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <form method = "post">
        <div class="mt-5 container w-50">
            <div>
                <label for="searchDate" class="form-label display-5">Select Date</label>
                @* <input type="date" id="searchDate" name="searchDate" class="form-control" asp-for="searchDate" *@
                       @* min="@DateTime.Now.ToString("yyyy-MM-dd")" value="@DateTime.Now.ToString("yyyy-MM-dd")"/> *@
                <div class="text-end mt-3">
                    <button type="submit" value="date" name="Action" class="btn btn-primary">Search Flights</button>
                </div>
            </div>
        </div>

        <div class = "container">
            <br> <h1 class = "display-4">Today's Flights</h1> <br>
            <div>
                <table class= "table table-hover">
                <thead>
                    <tr>
                        <th>#</th> <th>Flight</th> <th>Departure Time</th> <th>Duration</th> <th>New Time</th> <th>Add Crew</th>
                    </tr>
                </thead>
                <tbody>
                @if(Model.flights != null && Model.flights.Any()){}
                @for(int i=0; i<Model.flights.Count; i++){
                    <tr class = "active">
                        <th>@(i+1)</th> <th>@Model.flights[i].Route</th>
                        <th> @Model.flights[i].DepartureTime </th> 
                        <th>@Model.flights[i].Duration </th>
                        <th>
                            <form class = "form-group form-horizontal">
                                <div class = "form-group mb-3 row">
                                    @* <div class="col"> <input class="form-control" type="time" placeholder="New Time" id="new_time" name="new_time" asp-for="new_time"></div> *@
                                    <div class="col"><input class ="btn btn-light" type="submit" value="Schedule" name="Action"></div>
                                </div>
                            </form>
                        </th>
                        <th>
                            <div class = "form-group form-horizontal">
                                <div class = "form-group mb-3 row">
                                    @* <div class="col"> <input class="form-control" type="text" asp-for="crewSSN" placeholder="Crew SSN" id="crewSSN" name="crewSSN"></div> *@
                                    <div class="col"><input class ="btn btn-light" type="submit" value="Add" name="Action"></div>
                                </div>
                            </div>
                        </th>
                    </tr>
                }
                </tbody>
                </table>
            </div>
        </div>
        <div class = "container w-50">
            <div class = "form-group form-horizontal">
                <div class = "form-group mb-3">
                    <div class = "row mt-5">
                        <div class = "col">
                            <label for="from"> Route: </label> 
                            @* <input class = "form-control" type= "text" asp-for="from" placeholder="From" id = "from" name = "from"> *@
                        </div>
                        <div class = "col me-5">
                            <label for= "to"> </label>
                            @* <input class = "form-control" type= "text" asp-for="to" placeholder="To" id = "to" name = "to"> *@
                        </div>
                        <div class = "col">
                            <label for= "Dtime"> Departure Time: </label> 
                            @* <input class = "form-control" type= "time" asp-for="Dtime"placeholder="" id = "Dtime" name = "Dtime"> *@
                        </div>
                    </div>
                    <br>
                    <div class = "text-center">
                        <input class ="btn btn-center btn-light btn-lg" type="submit" value="Add New Flight" name="Action">
                    </div>
                </div>
            </div>
        </div>   
    </form>
</body>